# Results {#sec:results}

## Example play

```{r}
#| label: fig_field
#| fig.cap: "A display of the player tracking data for a play during the Las Vegas Raiders (defense, in black) versus Denver Broncos (offense, in orange) NFL game on October 17, 2021. Raiders DE Maxx Crosby is highlighted in blue. For each Raiders defender, the point size indicates their individual STRAIN value, with larger points suggesting larger STRAIN. Snapshots are captured at 1, 2, 3, and 4 seconds after the ball snap."
#| fig.width: 6.6
#| fig.height: 4.4
source(here("scripts", "01_fig_field.R"))
fig_field
```


```{r}
#| label: fig_crosby_curves
#| fig.cap: "crosby"
#| fig.width: 4.8
#| fig.height: 2.7
source(here("scripts", "02_fig_crosby_curves.R"))
fig_crosby_curves
```


To illustrate our proposed metric STRAIN for pass rush evaluation, we use a play from the 2021 NFL regular season week 6 matchup between the Las Vegas Raiders and Denver Broncos, which ended with Broncos QB Teddy Bridgewater getting sacked by Raiders DE Maxx Crosby[^crosbysack].
Figure \ref{fig:fig_field} presents the locations of every Las Vegas (black) and Denver (orange) player on the field at particular time points in this play, with our focused player Maxx Crosby highlighted in blue.
Note that the point size for each Las Vegas defender corresponds to the estimated STRAIN in the selected frames as the play progresses.
In addition, Figure \ref{fig:fig_field} is accompanied by Figure \ref{fig:fig_crosby_curves}, which is a line graph showing how Crosby's distance from the quarterback, velocity, and STRAIN change continuously throughout the play. 

[^crosbysack]: An real-game footage of this play is available at https://www.raiders.com/video/de-maxx-crosby-sacks-qb-teddy-bridgewater-for-a-loss-of-6-yards-nfl

We observe that for the first two seconds, Crosby is being blocked by a Denver offensive lineman and unable to get close to the quarterback, hence the corresponding STRAIN values are virtually zero. 
Suddenly at around three seconds after the snap, the STRAIN for Crosby starts to increase after the Raiders DE is freed up and charges towards Bridgewater. 
At 4 seconds after the snap, Crosby's STRAIN is 2.30, which means at his current moving rate, it will take Crosby about 0.43 (1/2.30) seconds to make the distance between him and the quarterback 0 (i.e. essentially sack the quarterback).
This matches well with the final outcome of the play, as the sack takes place at the very last frame (4.4 seconds) where the estimated STRAIN for Crosby reaches its peak at 3.96.

Moreover, Figure \ref{fig:fig_crosby_curves} clearly demonstrates the interactions between the features for Maxx Crosby.
Here, a higher STRAIN generally corresponds to faster moving rate towards the quarterback.
STRAIN also increases as the distance between the pass rusher and quarterback is being reduced.
Both of these relationships suggest an overall successful pass rush by Maxx Crosby.

(bring in the unsuccessful pass rush play)

(talk a bit about other rushers, maybe connect this with positional curves broken down by outcome - sack.)

## Positional STRAIN curves

```{r}
#| label: fig_pos_curves
#| fig.cap: "STRAIN curves for different positions"
#| fig.width: 4.5
#| fig.height: 3
source(here("scripts", "03_fig_pos_curves.R"))
fig_pos_curves
```

```{r}
#| label: fig_outcome_curves
#| fig.cap: "STRAIN curves for different positions by outcome"
#| fig.width: 6
#| fig.height: 6
source(here("scripts", "08_fig_outcome_curves.R"))
fig_outcome_curves
```


Figure \ref{fig:fig_pos_curves} displays the average STRAIN by position for the first 40 frames (4 seconds) after the snap. We observe a clear difference in STRAIN between edge rushers (OLB's and DE's) and interior linemen (DT's and NT's). Specifically, edge rushers have higher STRAIN than interior linemen on average, as they are more easily able to approach the quarterback on the edge of the pocket versus, for instance, a nose tackle attacking the line head on.

On average, STRAIN appears to increase for the first 0.5 seconds of a play, followed by a decline in the next second. STRAIN then increases again until around 2.5-3 seconds after the snap before trending down towards the end of the play. In context, this reflects the actions that a pass-rusher initially moves towards the quarterback, but is then stopped by the offensive line while the quarterback drops back. When the quarterback stops dropping, the rusher closes the gap and increases STRAIN, before slowing down later on.


Further, Figure \ref{fig:fig_outcome_curves} shows the positional STRAIN curves by whether a play's outcome is a hit, sack, hurry, or none of those. 
It is striking that for plays with sack outcome, 

## Ranking the best pass-rushers

Since STRAIN is observed continuously for every play in our data, this allows us to aggregate across all frames played and compute the average STRAIN for NFL pass rushers over the course of the eight-week sample size.
Based on the clearly distinct patterns for different positions as previously observed, we evaluate interior pass-rushers (NT's and DT's) separately from edge rushers (OLB's and DE's).
Tables \ref{tab:edge} and \ref{tab:interior} are leaderboards for the NFL's best edge and interior rushers (with at least 100 plays) rated by the average STRAIN across all frames for the first eight weeks of the 2021 regular season.

Our results show many true positives with no surprises. Myles Garrett and TJ Watt are known as top-tier edge rushers, while Aaron Donald is undoubtedly the best interior defender in football. Rashan Gary, a young rusher with huge potential, ranks first among all pass-rushers according to our metric. Our leaderboards largely match the rankings of experts in the field (for instance, PFF's edge and interior rusher rankings after the 2021 season), lending credibility to our proposed metric as a measure of pass-rushing effectiveness.

https://www.pff.com/news/nfl-2022-edge-rusher-rankings-tiers

https://www.pff.com/news/nfl-interior-defensive-line-rankings-tiers-2022

\begin{table}
\caption{Top 15 edge rushers (with at least 100 snaps played) according to the average STRAIN across all frames played. \label{tab:edge}}
\centering
\begin{tabular}{rrlllrr}
\hline
 Rank & Player & Team & Position & Snaps & Average STRAIN \\ 
\hline
1 & Rashan Gary & GB & OLB & 176 & 2.82 \\ 
2 & Leonard Floyd & LA & OLB & 185 & 2.80 \\ 
3 & Justin Houston & BAL & OLB & 132 & 2.78 \\ 
4 & Myles Garrett & CLE & DE & 197 & 2.75 \\ 
5 & Von Miller & DEN & OLB & 145 & 2.75 \\ 
6 & T.J. Watt & PIT & OLB & 147 & 2.71 \\ 
7 & Yannick Ngakoue & LV & DE & 175 & 2.70 \\ 
8 & Alex Highsmith & PIT & OLB & 129 & 2.65 \\ 
9 & Preston Smith & GB & OLB & 124 & 2.61 \\ 
10 & Randy Gregory & DAL & DE & 134 & 2.58 \\ 
11 & Joey Bosa & LAC & OLB & 160 & 2.58 \\ 
12 & Darrell Taylor & SEA & DE & 107 & 2.57 \\ 
13 & Josh Sweat & PHI & DE & 159 & 2.57 \\ 
14 & Maxx Crosby & LV & DE & 198 & 2.56 \\ 
15 & Markus Golden & ARI & OLB & 164 & 2.50 \\ 
\hline
\end{tabular}
\end{table}



\begin{table}
\caption{Top 15 interior rushers (with at least 100 snaps played) according to the average STRAIN across all frames played. \label{tab:interior}}
\centering
\begin{tabular}{rlllrr}
\hline
Rank & Player & Team & Position & Snaps & Average STRAIN \\ 
\hline
1 & Aaron Donald & LA & DT & 239 & 1.67 \\ 
2 & Solomon Thomas & LV & DT & 115 & 1.51 \\ 
3 & Quinton Jefferson & LV & DT & 144 & 1.46 \\ 
4 & Chris Jones & KC & DT & 139 & 1.42 \\ 
5 & DeForest Buckner & IND & DT & 198 & 1.26 \\ 
6 & Cameron Heyward & PIT & DT & 188 & 1.25 \\ 
7 & Javon Hargrave & PHI & DT & 156 & 1.24 \\ 
8 & Jerry Tillery & LAC & DT & 171 & 1.16 \\ 
9 & Ed Oliver & BUF & DT & 133 & 1.15 \\ 
10 & Osa Odighizuwa & DAL & DT & 162 & 1.13 \\ 
11 & Greg Gaines & LA & NT & 111 & 1.11 \\ 
12 & Leonard Williams & NYG & DT & 226 & 1.03 \\ 
13 & Christian Barmore & NE & DT & 166 & 1.02 \\ 
14 & Vita Vea & TB & NT & 184 & 1.01 \\ 
15 & B.J. Hill & CIN & DT & 123 & 0.96 \\ 
\hline
\end{tabular}
\end{table}


## Statistical Properties of STRAIN

<!-- From @Franks2016Meta (github https://github.com/afranks86/meta-analytics) -->

<!--

Discrimination: Does the metric reliably differentiate between players?

Independence: Does the metric provide new information?

-->

Next, we examine the predictability of STRAIN as a measure of pressure.
We first look at how well strain correlates with a simple measure of pressure rate, defined as the total hits, sacks and hurries per snap.
Figure \ref{fig:fig_cor_pressure} shows a scatterplot of average STRAIN and pressure rate.
We observe a fairly strong correlation (r = 0.625)...

Furthermore, first 4 weeks’ avg STRAIN is more predictive of last 4 weeks’ hurries sacks hits rate than first 4 weeks’ HSH rate

(INSERT FIGURE)

```{r}
#| label: fig_cor_pressure
#| fig.cap: "Corr with pressure rate = (hits + sacks + hurries) per snap"
#| fig.width: 4
#| fig.height: 3
source(here("scripts", "04_fig_cor_pressure.R"))
fig_cor_pressure
```






```{r}
#| label: fig_stability
#| fig.cap: "Metric stability"
#| fig.width: 4
#| fig.height: 3
source(here("scripts", "05_fig_stability.R"))
fig_stability
```


Figure \ref{fig:fig_stability} is a scatterplot of average STRAIN across all frames played in first and last 4 weeks.
It is apparent that there is a strong correlation (r = 0.854), illustrating great metric stability over time.

## Multilevel Model



coefficient table

icc
rusher 0.0574
blocker 0.0121
passer 0.0233
Residual 0.907 


```{r}
#| label: fig_rankings_boot
#| fig.cap: "steve"
#| fig.width: 6
#| fig.height: 8
source(here("scripts", "10_multilevel_mod.R"))
fig_rankings_boot
```